---
- name: Prepare
  hosts: all
  gather_facts: false
  tasks:
    - name: Install python for Ansible
      raw: test -e /usr/bin/python || (apt -y update && apt install -y python-minimal)
      become: true
      changed_when: false

    - name: install python via homebrew, which includes pip on Mac
      homebrew:
        name: python
        state: latest
        update_homebrew: yes

    - name: Install Docker via homebrew cask
      homebrew_cask:
        pkg: docker
        state: latest

